(this["webpackJsonpprofiles-app"]=this["webpackJsonpprofiles-app"]||[]).push([[0],{101:function(e,t,n){},102:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(8),o=n.n(i),c=n(12),l=n(10),s=n(16),u=n(15),p=n(134),f=(n(77),n(11)),d=n(136),h=n(137),m=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={},e.initState=function(){e.setState({name:"",bio:"",fb_id:""})},e.onChange=function(t){e.setState(Object(f.a)({},t.target.name,t.target.value))},e.handleClick=function(){e.props.handleSubmit(e.state),e.initState()},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){if(this.props.profile){var e=this.props.profile,t=e.name,n=e.bio,a=e.fb_id,r=e.id;this.setState({name:t,bio:n,fb_id:a,id:r})}else this.initState()}},{key:"render",value:function(){var e=this.state,t=e.name,n=e.bio,a=e.fb_id;return r.a.createElement("form",{className:"form-container ".concat("Create"===this.props.mode?"form-add":"form-edit"),noValidate:!0,autoComplete:"off"},r.a.createElement(d.a,{onChange:this.onChange,name:"name",value:t,label:"Name"}),r.a.createElement(d.a,{onChange:this.onChange,name:"bio",value:n,label:"Bio"}),r.a.createElement(d.a,{onChange:this.onChange,name:"fb_id",value:a,label:"Facebook id"}),r.a.createElement(h.a,{onClick:this.handleClick,variant:"contained",color:"primary"}," ",this.props.mode," "))}}]),n}(r.a.Component),b=n(25),E=n(23),O=n.n(E),v=n(38),j=n(64),y=n.n(j).a.create({baseURL:"http://localhost:8080/api/profiles",responseType:"json"}),C=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleSubmit=function(t){e.props.addNewProfile(t)},e}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement(m,{handleSubmit:this.handleSubmit,mode:"Create"})}}]),n}(r.a.Component),g=Object(b.b)(null,{addNewProfile:function(e){return function(){var t=Object(v.a)(O.a.mark((function t(n){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.post("/",e);case 2:return a=t.sent,t.abrupt("return",n({type:"ADD_NEW_PROFILE",payload:a.data}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(C),P=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement(p.a,{position:"sticky",color:"default"},r.a.createElement(g,null))}}]),n}(r.a.Component),k=n(103),S=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleEditClick=function(){e.props.handleEditClick(e.props.id)},e}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement(k.a,{className:"profile-item-container",id:this.props.id},r.a.createElement("div",{className:"profile-item-name"}," ",this.props.name),r.a.createElement(h.a,{className:"profile-item-button",variant:"contained",color:"primary",onClick:this.handleEditClick},"Edit"))}}]),n}(r.a.Component),_=(n(101),n(139)),L=n(140),w=n(135),I=n(2),R=n(65),A=n.n(R),N=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onError=function(){a.state.error||a.setState({src:A.a,error:!0})},a.state={src:e.src,error:!1},a}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state.src,t=this.props,n=(t.src,t.fallbackSrc,Object(I.a)(t,["src","fallbackSrc"]));return r.a.createElement("img",Object.assign({style:{width:"3rem",height:"3rem",borderRadius:"50%"},src:e,onError:this.onError},n))}}]),n}(r.a.Component),F=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleSubmit=function(t){e.props.handleCloseEdit(),e.props.editProfile(t)},e.getImageSrc=function(){return"http://graph.facebook.com/".concat(e.props.selectedProfile.fb_id,"/picture")},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.getProfile(this.props.id)}},{key:"render",value:function(){return this.props.selectedProfile?r.a.createElement(_.a,{open:this.props.open,onClose:this.props.handleCloseEdit,fullWidth:!0,maxWidth:"md"},r.a.createElement(L.a,null,"Edit Profile ",this.props.selectedProfile.name,r.a.createElement(N,{src:this.getImageSrc()})),r.a.createElement(w.a,null,r.a.createElement(m,{profile:this.props.selectedProfile,handleSubmit:this.handleSubmit,mode:"Edit"}))):null}}]),n}(r.a.Component),x=Object(b.b)((function(e){return{selectedProfile:e.profileReducer.selectedProfile}}),{getProfile:function(e){return function(){var t=Object(v.a)(O.a.mark((function t(n){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.get("/".concat(e));case 2:return a=t.sent,t.abrupt("return",n({type:"GET_PROFILE",payload:a.data}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},editProfile:function(e){return function(){var t=Object(v.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.put("/".concat(e.id),e);case 2:return t.abrupt("return",n({type:"EDIT_PROFILE",payload:e}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(F),D=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={},e.handleEditClick=function(t){e.setState({selectedProfile:t,isEditOpen:!0})},e.handleCloseEdit=function(){e.setState({isEditOpen:!1}),e.props.cancelSelectedProfile()},e.renderList=function(){return e.props.profiles.map((function(t){return r.a.createElement(S,Object.assign({},t,{handleEditClick:e.handleEditClick}))}))},e.renderEditModal=function(){if(e.state.isEditOpen)return r.a.createElement(x,{handleCloseEdit:e.handleCloseEdit,open:e.state.isEditOpen,id:e.state.selectedProfile})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.getAllProfiles(),this.setState({isEditOpen:!1})}},{key:"render",value:function(){return 0===!this.props.profiles.length?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"profile-list-container"},this.renderList()),this.renderEditModal())}}]),n}(r.a.Component),T=Object(b.b)((function(e){return{profiles:e.profileReducer.profiles}}),{getAllProfiles:function(){return function(){var e=Object(v.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/");case 2:return n=e.sent,e.abrupt("return",t({type:"GET_ALL_PROFILES",payload:n.data}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},cancelSelectedProfile:function(){return{type:"CANCEL_SELECTED_PROFILE",payload:null}}})(D);var M=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(P,null),r.a.createElement(T,null))},G=n(32),W=n(20),B=n(19),J={profiles:[],selectedProfile:null},U=Object(G.c)({profileReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_PROFILES":return Object(B.a)(Object(B.a)({},e),{},{profiles:t.payload});case"ADD_NEW_PROFILE":return Object(B.a)(Object(B.a)({},e),{},{profiles:[].concat(Object(W.a)(e.profiles),[t.payload])});case"EDIT_PROFILE":return Object(B.a)(Object(B.a)({},e),{},{profiles:e.profiles.map((function(e){return t.payload.id===e.id?t.payload:e})),selectedProfile:null});case"GET_PROFILE":return Object(B.a)(Object(B.a)({},e),{},{selectedProfile:t.payload});case"CANCEL_SELECTED_PROFILE":return Object(B.a)(Object(B.a)({},e),{},{selectedProfile:null});default:return e}}}),V=n(66),q=Object(G.d)(U,Object(G.a)(V.a));o.a.render(r.a.createElement(b.a,{store:q},r.a.createElement(M,null)),document.getElementById("root"))},65:function(e,t,n){e.exports=n.p+"static/media/avatar-default.e8c00b50.png"},72:function(e,t,n){e.exports=n(102)},77:function(e,t,n){}},[[72,1,2]]]);
//# sourceMappingURL=main.4482b72a.chunk.js.map